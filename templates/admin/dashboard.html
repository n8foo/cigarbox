{% extends "admin/admin_base.html" %}
{% set active_page = 'dashboard' %}

{% block admin_content %}

<div class="row">
  <div class="col-md-12">
    <h1>Admin Dashboard</h1>
    <hr>
  </div>
</div>

<!-- Statistics Cards -->
<div class="row">
  <div class="col-md-3">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">Total Photos</h3>
      </div>
      <div class="panel-body">
        <h2>{{ stats.total_photos }}</h2>
      </div>
    </div>
  </div>

  <div class="col-md-3">
    <div class="panel panel-info">
      <div class="panel-heading">
        <h3 class="panel-title">Total Tags</h3>
      </div>
      <div class="panel-body">
        <h2>{{ stats.total_tags }}</h2>
      </div>
    </div>
  </div>

  <div class="col-md-3">
    <div class="panel panel-success">
      <div class="panel-heading">
        <h3 class="panel-title">Total Photosets</h3>
      </div>
      <div class="panel-body">
        <h2>{{ stats.total_photosets }}</h2>
      </div>
    </div>
  </div>

  <div class="col-md-3">
    <div class="panel panel-warning">
      <div class="panel-heading">
        <h3 class="panel-title">Total Users</h3>
      </div>
      <div class="panel-body">
        <h2>{{ stats.total_users }}</h2>
      </div>
    </div>
  </div>
</div>

<!-- Privacy Breakdown -->
<div class="row">
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Privacy Breakdown</h3>
      </div>
      <div class="panel-body">
        <table class="table table-hover">
          <tr>
            <td><a href="{{SITEURL}}/privacy/0" class="text-decoration-none">ğŸŒ <strong>Public</strong></a></td>
            <td><a href="{{SITEURL}}/privacy/0" class="text-decoration-none">{{ stats.privacy_breakdown.public }}</a></td>
          </tr>
          <tr>
            <td><a href="{{SITEURL}}/privacy/1" class="text-decoration-none">ğŸ‘¥ <strong>Friends</strong></a></td>
            <td><a href="{{SITEURL}}/privacy/1" class="text-decoration-none">{{ stats.privacy_breakdown.friends }}</a></td>
          </tr>
          <tr>
            <td><a href="{{SITEURL}}/privacy/2" class="text-decoration-none">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ <strong>Family</strong></a></td>
            <td><a href="{{SITEURL}}/privacy/2" class="text-decoration-none">{{ stats.privacy_breakdown.family }}</a></td>
          </tr>
          <tr>
            <td><a href="{{SITEURL}}/privacy/3" class="text-decoration-none">ğŸ”’ <strong>Private</strong></a></td>
            <td><a href="{{SITEURL}}/privacy/3" class="text-decoration-none">{{ stats.privacy_breakdown.private }}</a></td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <!-- Recent Photos -->
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent Photos</h3>
      </div>
      <div class="panel-body">
        <div class="row">
          {% for photo in stats.recent_photos %}
          <div class="col-6 col-md-4">
            <a href="{{SITEURL}}/photos/{{ photo.id }}" class="thumbnail">
              <img src="http://s3.amazonaws.com/{{ config['S3_BUCKET_NAME'] }}/{{ photo.uri }}_t.jpg" alt="Photo {{ photo.id }}">
            </a>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Quick Actions -->
<div class="row">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Quick Actions</h3>
      </div>
      <div class="panel-body">
        <a href="{{SITEURL}}/admin/photosets/create" class="btn btn-primary">Create Photoset</a>
        <a href="{{SITEURL}}/admin/photos" class="btn btn-info">Manage Photos</a>
        <a href="{{SITEURL}}/admin/tags" class="btn btn-success">Manage Tags</a>
        <a href="{{SITEURL}}/admin/users" class="btn btn-warning">Manage Users</a>
      </div>
    </div>
  </div>
</div>

{% endblock admin_content %}
